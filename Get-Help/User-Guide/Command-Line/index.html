<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta http-equiv="content-language" content="en">
    <title>Command Line</title>
    
  <meta prefix="dc: http://purl.org/dc/elements/1.1/" property="dc:title" content="Command Line">


    <link rel="stylesheet" href="/pipeline/css/default.css">
    <link rel="stylesheet" href="/pipeline/css/wiki.css">
    <link rel="stylesheet" href="/pipeline/css/coderay.css">
    <link rel="shortcut icon" href="http://www.daisy.org/sites/default/files/favicon_0.ico">

  </head>
  <body>
    <div id="body">
      <nav id="nav-sitemap">
  
  <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline" tabindex="1">
      
      Home
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Download.html" tabindex="2">
      
      Download
      </a>
    
    </li>
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help" tabindex="3">
      Help
      </a>
      
      <ul class="spine spine-has-current" id="nav-sitemap-left">
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help/User-Guide" tabindex="6">
      User Guide
      </a>
      
      <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Installation" tabindex="7">
      Installation
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Installation-and-configuation" tabindex="8">
      
      Web Application
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Desktop-Application/Quick-Start-Guide" tabindex="9">
      
      Desktop Application
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Web-Application/User-Guide" tabindex="10">
      Web Application
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Templating" tabindex="11">
      
      Templating
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Administrator-settings" tabindex="12">
      
      Administrator Settings
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Branding" tabindex="13">
      
      Branding
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Pipeline-as-Service" tabindex="14">
      Pipeline as a Service
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Configuration-Files" tabindex="15">
      Configuration Files
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="https://daisy.github.io/pipeline/modules/tts-common/doc/tts-config.html" class="external-link" target="_blank" tabindex="16">
      
      Text-To-Speech Configuration
      </a>
    
    </li>
  
</ul>

    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item spine-item-current">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Command-Line" tabindex="17">
      
      Command Line
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Scripts" tabindex="18">
      Scripts
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-utils/doc" tabindex="19">
      
      DAISY 2.02 Unscrambler
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-validator/doc" tabindex="20">
      
      DAISY 2.02 Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-to-daisy3/doc" tabindex="21">
      
      DAISY 2.02 to DAISY 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-to-epub3/doc" tabindex="22">
      
      DAISY 2.02 to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-to-mp3/doc" tabindex="23">
      
      DAISY 2.02 to MegaVoice multi-level
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy3-utils/doc" tabindex="24">
      
      DAISY 3 Upgrader
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy3-to-daisy202/doc" tabindex="25">
      
      DAISY 3 to DAISY 2.02
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy3-to-epub3/doc" tabindex="26">
      
      DAISY 3 to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy3-to-mp3/doc" tabindex="27">
      
      DAISY 3 to MegaVoice multi-level
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-validator/doc" tabindex="28">
      
      DTBook Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-daisy3/doc" tabindex="29">
      
      DTBook to DAISY 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-epub3/doc" tabindex="30">
      
      DTBook to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-html/doc" tabindex="31">
      
      DTBook to HTML
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-odt/doc" tabindex="32">
      
      DTBook to ODT
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/dtbook-to-pef/doc" tabindex="33">
      
      DTBook to PEF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-rtf/doc" tabindex="34">
      
      DTBook to RTF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-zedai/doc" tabindex="35">
      
      DTBook to ZedAI
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub2-to-epub3/doc" tabindex="36">
      
      EPUB Upgrader
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-to-epub3/doc" tabindex="37">
      
      EPUB 3 Enhancer
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-validator/doc" tabindex="38">
      
      EPUB 3 Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-to-daisy202/doc" tabindex="39">
      
      EPUB 3 to DAISY 2.02
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-to-daisy3/doc" tabindex="40">
      
      EPUB 3 to DAISY 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/epub3-to-pef/doc" tabindex="41">
      
      EPUB 3 to PEF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub-to-daisy/doc" tabindex="42">
      
      EPUB to DAISY
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/html-to-dtbook/doc" tabindex="43">
      
      HTML to DTBook
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/html-to-epub3/doc" tabindex="44">
      
      HTML to EPUB3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/html-to-pef/doc" tabindex="45">
      
      HTML to PEF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/nimas-fileset-validator/doc" tabindex="46">
      
      NIMAS Fileset Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/zedai-to-epub3/doc" tabindex="47">
      
      ZedAI to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/zedai-to-html/doc" tabindex="48">
      
      ZedAI to HTML
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/zedai-to-pef/doc" tabindex="49">
      
      ZedAI to PEF
      </a>
    
    </li>
  
</ul>

    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/API-Documentation" tabindex="50">
      API Documentation
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/WebServiceAPI" tabindex="51">
      
      Web Service API
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/Issue-Tracker.html" tabindex="52">
      
      Issue Tracker
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/Troubleshooting" tabindex="53">
      Troubleshooting
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Desktop-Application/Troubleshooting" tabindex="54">
      
      Troubleshooting Desktop Application
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="https://github.com/daisy/pipeline/discussions" class="external-link" target="_blank" tabindex="55">
      
      Forum
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="mailto:daisy-pipeline@mail.daisy.org" tabindex="56">
      
      Contact
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute" tabindex="4">
      Contribute​
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="https://github.com/daisy/pipeline" class="external-link" target="_blank" tabindex="57">
      
      Source Code
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="https://groups.google.com/forum/#!forum/daisy-pipeline-dev" class="external-link" target="_blank" tabindex="58">
      
      Developers Mailing List
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute/Developer-Guide" tabindex="59">
      Developer Guide
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Sources" tabindex="60">
      
      Source Code
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Building" tabindex="61">
      
      Build System
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Modules" tabindex="62">
      
      Writing Modules
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute/Developer-Guide/XProc" tabindex="63">
      XProc
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/XProcExtensions" tabindex="64">
      
      XProc Extensions
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Testing" tabindex="65">
      
      Testing
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Debugging" tabindex="66">
      
      Debugging
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Releasing" tabindex="67">
      
      Release Management
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Easy-Hacks.html" tabindex="68">
      
      Easy Hacks
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="http://www.daisy.org" class="external-link" target="_blank" tabindex="5">
      
      DAISY Home
      </a>
    
    </li>
  
</ul>

</nav>



<script type="text/javascript">
var onload = function() {
  var nav = document.getElementById('nav-sitemap');
  var navTopBefore = nav.offsetTop;
  var fixed = (navTopBefore < window.pageYOffset);
  if (fixed) {
    nav.classList.add('fixed');
  }
  // FIXME: this is a hack! styling should not be handled here!
  var body = document.getElementsByTagName('body')[0];
  var leftNav = document.getElementById('nav-sitemap-left');
  var setLeftNavHeight = function() {
    if (fixed) {
      leftNav.style.height = (window.innerHeight - 34) + "px";
    } else {
      leftNav.style.height = Math.max(window.innerHeight - 219, body.offsetHeight - 175) + "px";
	  // "height: auto" doesn't work if the auto height of leftNav is greater
	  // than window.innerHeight and body.offsetHeight: it would mess up the
	  // transition because the transition would influence the pageYOffset
	  // and thereby canceling itself, making it impossible to scroll down.
    }
  }
  setLeftNavHeight();
  window.onscroll = function(e) {
    if (fixed && window.pageYOffset < navTopBefore) {
      nav.classList.remove('fixed');
	  fixed = false;
      setLeftNavHeight();
    } else if (!fixed && window.pageYOffset > navTopBefore) {
      nav.classList.add('fixed');
	  fixed = true;
      setLeftNavHeight();
    }
  }
  window.onresize = setLeftNavHeight;
};
if (window.addEventListener) {
  window.addEventListener('load', onload);
} else {
  window.attachEvent('onload', onload);
}
</script>


      <div class="edit-button">
  <a href="https://github.com/daisy/pipeline/wiki/Get-Help/User-Guide/Command-Line/_edit" class="external-link" target="_blank">
    Edit this page on Github
  </a>
</div>

      <h1 id="command-line-tool">Command Line Tool</h1>

<p>The command line is not a standalone tool. It only works in
combination with a running <a href="/pipeline/Get-Help/User-Guide/Pipeline-as-Service">Pipeline server</a>. The
server may be running on the same computer or a different one. See
<a href="#configuration">Configuration</a> for how to specify the address of the
server.</p>

<h2 id="installation">Installation</h2>

<p>Choose a package from the
<a href="/pipeline//Download.html">downloads page</a> that
includes the command line tool, then follow the installation
instructions for that package.</p>

<h2 id="usage">Usage</h2>

<p>The executable is called <code>dp2</code>, or <code>dp2.exe</code> on Windows. Where exactly
this file is located depends on the installation.</p>

<p>In order to get an overview of the commands, run <code>dp2 help</code>:</p>

<div class="language-plaintext highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>Usage: dp2 [GLOBAL_OPTIONS] COMMAND [COMMAND_OPTIONS]

Script commands:
    daisy202-to-daisy3         Upgrades a DAISY 2.02 DTB to a DAISY 3 DTB.
    daisy202-to-epub3          Transforms a DAISY 2.02 publication into an EPUB 3 publication.
    daisy202-to-mp3            Transforms a DAISY 2.02 publication into a folder structure with MP3 files suitable for playback on MegaVoice Envoy devices (all versions except the Envoy Connect).
    daisy202-unscrambler       Renames audio files in a DAISY 2.02 publication in such a way that when sorted alphabetically, they are also sorted according to the reading order.
    daisy202-validator         Validates a DAISY 2.02 fileset.
    daisy3-to-daisy202         Transforms an audio-only DAISY 3 DTB into an audio-only DAISY 2.02 DTB.
    daisy3-to-epub3            Transforms a DAISY 3 publication into an EPUB 3 publication.
    daisy3-to-mp3              Transforms a DAISY 3 publication into a folder structure with MP3 files suitable for playback on MegaVoice Envoy devices (all versions except the Envoy Connect).
    daisy3-upgrader            Upgrades a DAISY 3 publication from version 1.1.0 (Z39.86-2002) to version 2005 (Z39.86-2005).
    dtbook-to-daisy3           Converts multiple DTBooks to DAISY 3 format
    dtbook-to-epub3            Converts multiple dtbooks to EPUB 3 format
    dtbook-to-html             Transforms DTBook XML into HTML.
    dtbook-to-odt              Transforms a DTBook (DAISY 3 XML) document into an ODT (Open Document Text).
    dtbook-to-pef              Transforms a DTBook (DAISY 3 XML) document into an embosser ready braille document.
    dtbook-to-rtf              Transforms a DTBook (DAISY 3 XML) document into an RTF (Rich Text Format).
    dtbook-to-zedai            Transforms DTBook XML into ZedAI XML.
    dtbook-validator           Validates DTBook documents. Supports inclusion of MathML.
    epub-to-daisy              Transforms an EPUB 2 or EPUB 3 publication into DAISY 2.02 and DAISY 3.
    epub2-to-epub3             Upgrades an EPUB 2 publication to EPUB 3.
    epub3-to-daisy202          Transforms an EPUB 3 publication into DAISY 2.02.
    epub3-to-daisy3            Transforms an EPUB 3 publication into DAISY 3.
    epub3-to-epub3             Transforms an EPUB 3 publication into an EPUB 3 publication with audio and/or a braille rendition.
    epub3-to-pef               Transforms a EPUB 3 publication into an embosser ready braille document.
    epub3-validator            Validates a EPUB.
    html-to-dtbook             Transforms a (X)HTML document into a DTBook document.
    html-to-epub3              Transforms (X)HTML documents into an EPUB 3 publication.
    html-to-pef                Transforms a HTML document into an embosser ready braille document.
    nimas-fileset-validator    Validate a NIMAS Fileset. Supports inclusion of MathML.
    zedai-to-epub3             Transforms a ZedAI (DAISY 4 XML) document into an EPUB 3 publication.
    zedai-to-html              Transforms ZedAI XML (ANSI/NISO Z39.98-2012 Authoring and Interchange) into HTML.
    zedai-to-pef               Transforms a ZedAI (DAISY 4 XML) document into an embosser ready braille document.

General commands:
    status                     Returns the status of the job with id JOB_ID
    delete                     Removes a job from the pipeline
    results                    Stores the results from a job
    jobs                       Returns the list of jobs present in the server
    log                        Stores the results from a job
    queue                      Shows the execution queue and the job's priorities.
    moveup                     Moves the job up the execution queue
    movedown                   Moves the job down the execution queue
    clean                      Removes the jobs with an ERROR status
    halt                       Stops the webservice
    version                    Prints the version and authentication information

List of global options:                 dp2 help -g
List of admin commands:                 dp2 help -a
Detailed help for a single command:     dp2 help COMMAND
</pre></div>
</div>
</div>

<p>To get the list of admin commands, run <code>dp2 help -a</code>:</p>

<div class="language-plaintext highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>Admin commands:
    list                       Returns the list of the available clients
    create                     Creates a new client
    remove                     Removes a client
    modify                     Modifies a client
    client                     Prints the detailed client inforamtion
    properties                 List the pipeline ws runtime properties
    sizes                      Prints the total size or a detailed list of job data stored in the
                               server
</pre></div>
</div>
</div>

<p>For detailed help on a specific script or other command, run <code>dp2 help COMMAND</code>. For example:</p>

<div class="language-plaintext highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>Usage: dp2 [GLOBAL_OPTIONS] dtbook-to-epub3 [OPTIONS]

Options:
    --source SOURCE                One or more DTBook files to be transformed. In the case of
                                   multiple files, a merge will be performed.
    --language [LANGUAGE]          Language code of the input document.
    --assert-valid [ASSERT-VALID]  Whether to stop processing and raise an error on validation issues.
    --tts-config [TTS-CONFIG]      Configuration file for the Text-To-Speech.
    --audio [AUDIO]                Whether to use a speech synthesizer to produce audio files.
    -o,--output [OUTPUT]           Path where to store the results. This option is mandatory when
                                   the job is not executed in the background
    -z,--zip                       Write the output to a zip file rather than to a folder
    -n,--nicename [NICENAME]       Set job's nice name
    -r,--priority [PRIORITY]       Set job's priority (high|medium|low)
    -q,--quiet                     Do not print the job's messages
    -p,--persistent                Delete the job after it is executed
    -b,--background
</pre></div>
</div>
</div>

<h2 id="configuration">Configuration</h2>

<p>Configuration settings can be passed as options. In order to get the
full list of available options, run <code>dp2 help -g</code>. The default
settings may be altered in a file called <code>config.yml</code>. This file is
located in the same directory as the <code>dp2</code> executable. To change the
location, use the <code>--file</code> option.</p>

<div class="language-plaintext highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>Global Options:
    --host [HOST]                    Pipeline's webservice host (default http://localhost)
    --port [PORT]                    Pipeline's webserivce port (default 8181)
    --ws_path [WS_PATH]              Pipeline's webservice path, as in http://daisy.org:8181/path
                                     (default ws)
    --timeout [TIMEOUT]              Http connection timeout in seconds (default 60)
    --client_key [CLIENT_KEY]        Client key for authenticated requests (default clientid)
    --client_secret [CLIENT_SECRET]  Client secrect for authenticated requests (default supersecret)
                                     true or false (default true)
    --starting [STARTING]            Start the webservice in the local computer if it is not running.
    --exec_line [EXEC_LINE]          Pipeline webserivice executable path (default ../bin/pipeline2)
    --ws_timeup [WS_TIMEUP]          Time to wait until the webservice starts in seconds (default 25)
    --debug [DEBUG]                  Print debug messages. true or false (default false)
    -f,--file [FILE]                 Alternative configuration file
</pre></div>
</div>
</div>

    </div>
  </body>
</html>
