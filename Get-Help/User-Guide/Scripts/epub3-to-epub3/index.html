<!DOCTYPE html>
<html lang="en" prefix="dc: http://purl.org/dc/elements/1.1/
              dp2: http://www.daisy.org/ns/pipeline/">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta http-equiv="content-language" content="en">
    <title>EPUB 3 Enhancer</title>
    
  <meta prefix="dc: http://purl.org/dc/elements/1.1/" property="dc:title" content="EPUB 3 Enhancer">


    <link rel="stylesheet" href="/pipeline/css/default.css">
    <link rel="stylesheet" href="/pipeline/css/coderay.css">
    <link rel="shortcut icon" href="http://www.daisy.org/sites/default/files/favicon_0.ico">

  </head>
  <body>
    <div id="body">
      <nav id="nav-sitemap">
  
  <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline" tabindex="1">
      
      Home
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Download.html" tabindex="2">
      
      Download
      </a>
    
    </li>
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help" tabindex="3">
      Help
      </a>
      
      <ul class="spine spine-has-current" id="nav-sitemap-left">
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help/User-Guide" tabindex="6">
      User Guide
      </a>
      
      <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Installation" tabindex="7">
      Installation
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Installation-and-configuation" tabindex="8">
      
      Web Application
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Desktop-Application/DAISY-Pipeline-2-User-Guide" tabindex="9">
      
      Desktop Application
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Web-Application/User-Guide" tabindex="10">
      Web Application
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Templating" tabindex="11">
      
      Templating
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Administrator-settings" tabindex="12">
      
      Administrator Settings
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Web-Application/Branding" tabindex="13">
      
      Branding
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Pipeline-as-Service" tabindex="14">
      Pipeline as a Service
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Configuration-Files" tabindex="15">
      Configuration Files
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="https://daisy.github.io/pipeline/modules/tts-common/doc/tts-config.html" class="external-link" target="_blank" tabindex="16">
      
      Text-To-Speech Configuration
      </a>
    
    </li>
  
</ul>

    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Command-Line" tabindex="17">
      
      Command Line
      </a>
    
    </li>
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help/User-Guide/Scripts" tabindex="18">
      Scripts
      </a>
      
      <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-validator/doc" tabindex="19">
      
      DAISY 2.02 Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy202-to-epub3/doc" tabindex="20">
      
      DAISY 2.02 to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy3-to-daisy202/doc" tabindex="21">
      
      DAISY 3 to DAISY 2.02
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/daisy3-to-epub3/doc" tabindex="22">
      
      DAISY 3 to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-validator/doc" tabindex="23">
      
      DTBook Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-daisy3/doc" tabindex="24">
      
      DTBook to DAISY 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-epub3/doc" tabindex="25">
      
      DTBook to EPUB3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-html/doc" tabindex="26">
      
      DTBook to HTML
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-odt/doc" tabindex="27">
      
      DTBook to ODT
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/dtbook-to-pef/doc" tabindex="28">
      
      DTBook to PEF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-rtf/doc" tabindex="29">
      
      DTBook to RTF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/dtbook-to-zedai/doc" tabindex="30">
      
      DTBook to ZedAI
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub2-to-epub3/doc" tabindex="31">
      
      EPUB 2 to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item spine-item-current">
      
      
        <a href="/pipeline/modules/epub3-to-epub3/doc" tabindex="32">
      
      EPUB 3 Enhancer
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-validator/doc" tabindex="33">
      
      EPUB 3 Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-to-daisy202/doc" tabindex="34">
      
      EPUB 3 to DAISY 2.02
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub3-to-daisy3/doc" tabindex="35">
      
      EPUB 3 to DAISY 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/epub3-to-pef/doc" tabindex="36">
      
      EPUB 3 to PEF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/epub-to-daisy/doc" tabindex="37">
      
      EPUB to DAISY
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/html-to-dtbook/doc" tabindex="38">
      
      HTML to DTBook
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/html-to-epub3/doc" tabindex="39">
      
      HTML to EPUB3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/html-to-pef/doc" tabindex="40">
      
      HTML to PEF
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/nimas-fileset-validator/doc" tabindex="41">
      
      NIMAS Fileset Validator
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/zedai-to-epub3/doc" tabindex="42">
      
      ZedAI to EPUB 3
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/zedai-to-html/doc" tabindex="43">
      
      ZedAI to HTML
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/modules/braille/zedai-to-pef/doc" tabindex="44">
      
      ZedAI to PEF
      </a>
    
    </li>
  
</ul>

    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/API-Documentation" tabindex="45">
      API Documentation
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/WebServiceAPI" tabindex="46">
      
      Web Service API
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/Issue-Tracker.html" tabindex="47">
      
      Issue Tracker
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/Troubleshooting" tabindex="48">
      Troubleshooting
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/Troubleshooting/Common-Errors-Windows" tabindex="49">
      
      Troubleshooting on Windows
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="https://github.com/daisy/pipeline/discussions" class="external-link" target="_blank" tabindex="50">
      
      Forum
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="mailto:daisy-pipeline@mail.daisy.org" tabindex="51">
      
      Contact
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute" tabindex="4">
      Contribute​
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="https://github.com/daisy/pipeline" class="external-link" target="_blank" tabindex="52">
      
      Source Code
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="https://groups.google.com/forum/#!forum/daisy-pipeline-dev" class="external-link" target="_blank" tabindex="53">
      
      Developers Mailing List
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute/Developer-Guide" tabindex="54">
      Developer Guide
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Sources" tabindex="55">
      
      Source Code
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Building" tabindex="56">
      
      Build System
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Modules" tabindex="57">
      
      Writing Modules
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute/Developer-Guide/XProc" tabindex="58">
      XProc
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/XProcExtensions" tabindex="59">
      
      XProc Extensions
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Testing" tabindex="60">
      
      Testing
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Debugging" tabindex="61">
      
      Debugging
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide/Releasing" tabindex="62">
      
      Release Management
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Easy-Hacks.html" tabindex="63">
      
      Easy Hacks
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="http://www.daisy.org" class="external-link" target="_blank" tabindex="5">
      
      DAISY Home
      </a>
    
    </li>
  
</ul>

</nav>



<script type="text/javascript">
var onload = function() {
  var nav = document.getElementById('nav-sitemap');
  var navTopBefore = nav.offsetTop;
  var fixed = (navTopBefore < window.pageYOffset);
  if (fixed) {
    nav.classList.add('fixed');
  }
  // FIXME: this is a hack! styling should not be handled here!
  var body = document.getElementsByTagName('body')[0];
  var leftNav = document.getElementById('nav-sitemap-left');
  var setLeftNavHeight = function() {
    if (fixed) {
      leftNav.style.height = (window.innerHeight - 34) + "px";
    } else {
      leftNav.style.height = Math.max(window.innerHeight - 219, body.offsetHeight - 175) + "px";
	  // "height: auto" doesn't work if the auto height of leftNav is greater
	  // than window.innerHeight and body.offsetHeight: it would mess up the
	  // transition because the transition would influence the pageYOffset
	  // and thereby canceling itself, making it impossible to scroll down.
    }
  }
  setLeftNavHeight();
  window.onscroll = function(e) {
    if (fixed && window.pageYOffset < navTopBefore) {
      nav.classList.remove('fixed');
	  fixed = false;
      setLeftNavHeight();
    } else if (!fixed && window.pageYOffset > navTopBefore) {
      nav.classList.add('fixed');
	  fixed = true;
      setLeftNavHeight();
    }
  }
  window.onresize = setLeftNavHeight;
};
if (window.addEventListener) {
  window.addEventListener('load', onload);
} else {
  window.attachEvent('onload', onload);
}
</script>


      <link rel="dp2:permalink" href="http://daisy.github.io/pipeline/Get-Help/User-Guide/Scripts/epub3-to-epub3/">

<link rev="dp2:doc" href="../src/main/resources/xml/epub3-to-epub3.xpl">

<link rel="rdf:type" href="http://www.daisy.org/ns/pipeline/userdoc">

<h1 id="epub-3-enhancer">EPUB 3 Enhancer</h1>

<p>Transforms an EPUB 3 publication into an EPUB 3 publication with audio and/or a braille rendition.</p>

<h2 id="synopsis">Synopsis</h2>

<div class="gui-synopsis">

  <h3 id="inputs">Inputs</h3>

  <ul class="synopsis-inputs">
<li class="synopsis-input details-on">
<div class="toggle-details"></div>
<div class="synopsis-input-name">Text-to-speech configuration file</div>
<div class="synopsis-input-desc">
<div class="shortdesc">Configuration file for the text-to-speech.
</div>
<div class="longdesc">Configuration file for the text-to-speech.

<p><a href="/pipeline/Get-Help/User-Guide/Text-To-Speech">More details on the configuration file format</a>.</p>
</div>
</div>
<div class="synopsis-input-media-type">
<b>Media-type</b>:
<ul class="media-types">
<li>application/vnd.pipeline.tts-config+xml</li>
</ul>
</div>
<div class="synopsis-input-sequence">
<b>Sequence</b>: no</div>
</li>
<li class="synopsis-input details-on">
<div class="toggle-details"></div>
<div class="synopsis-input-name">Input EPUB 3</div>
<div class="synopsis-input-desc">
<div class="shortdesc">The EPUB you want to convert.
</div>
<div class="longdesc">The EPUB you want to convert.

<p>You may alternatively use the “mimetype” document if your input is a unzipped/”exploded” version of an EPUB.</p>
</div>
</div>
<div class="synopsis-input-media-type">
<b>Media-type</b>:
<ul class="media-types">
<li><a href="http://www.idpf.org/epub/301/spec/epub-ocf.html" class="media-type external-link" target="_blank">application/epub+zip</a></li>
<li>text/plain</li>
</ul>
</div>
<div class="synopsis-input-sequence">
<b>Sequence</b>: no</div>
</li>
<li class="synopsis-input details-on">
<div class="toggle-details"></div>
<div class="synopsis-input-name">Metadata</div>
<div class="synopsis-input-desc">
<div class="shortdesc">Metadata to be included in the EPUB.
</div>
<div class="longdesc">Metadata to be included in the EPUB.

<p>If specified, the document must be a single
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-metadata-elem" class="external-link" target="_blank"><code>metadata</code></a> or
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-package-elem" class="external-link" target="_blank"><code>package</code></a> element. A
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-prefix-attr" class="external-link" target="_blank"><code>prefix</code></a> attribute is
allowed on the root element. The metadata will be injected in the EPUB’s package document, possibly
overwriting existing metadata. This works as follows:</p>

<ul>
  <li>All (valid) fields in the provided metadata document end up in the output EPUB. More than one
field with the same property is allowed. <code>meta</code> elements with a <code>refines</code> attribute must refine
elements within the metadata document itself. Elements that refine elements in the EPUB’s package
document will be dropped.</li>
  <li>Any metadata fields in the input EPUB that have matching fields (same property in case of <code>meta</code>
fields, same element name in case of <code>dc:*</code> fields) in the provided metadata document are omitted,
together with any <code>meta</code> elements that refine them.</li>
  <li>Metadata fields in the input that do not have any matching fields in the provided metadata
document are preserved in the output.</li>
</ul>

<p>There are a number of fields that result in addional changes in the EPUB (apart from an updated
<code>metadata</code> section in the package document):</p>

<ul>
  <li>If the provided metadata document contains one or more
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-opf-dcidentifier" class="external-link" target="_blank"><code>dc:identifier</code></a>
fields, the first one without a <code>refines</code> attribute will be used to update the
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#attrdef-package-unique-identifier" class="external-link" target="_blank"><code>unique-identifier</code></a>
attribute on the package document. The <code>dc:identifier</code> metadata in the content documents can also be
aligned with it. This behavior can be enabled or disabled with the “Update <meta name="dc:identifier"> elements based on EPUB metadata” option.</li>
  <li>If the provided metadata document contains one or more
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-opf-dctitle" class="external-link" target="_blank"><code>dc:title</code></a> fields, the
first one can also be used as the <code>title</code> element in the content documents. This behavior can be
enabled or disabled with the “Update <title> elements based on EPUB metadata" option.</title>
</li>
  <li>If the provided metadata document contains exactly one
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-opf-dclanguage" class="external-link" target="_blank"><code>dc:language</code></a> field,
it can be used to update the <code>xml:lang</code> and <code>lang</code> attributes of the content documents. This
behavior can be enabled or disabled with the “Update ‘lang’ attributes based on metadata” option.</li>
</ul>

<p>Some fields are ignored:</p>

<ul>
  <li>The <a href="https://www.w3.org/publishing/epub3/epub-packages.html#last-modified-date" class="external-link" target="_blank"><code>dcterms:modified</code></a>
field gets updated whenever Pipeline produces an EPUB. As a consequence, any <code>dcterms:modified</code>
fields in the provided metadata document are ignored.</li>
</ul>
</div>
</div>
<div class="synopsis-input-media-type">
<b>Media-type</b>:
<ul class="media-types">
<li>application/xml</li>
</ul>
</div>
<div class="synopsis-input-sequence">
<b>Sequence</b>: yes</div>
</li>
</ul>

  <h3 id="outputs">Outputs</h3>

  <ul class="synopsis-outputs">
<li class="synopsis-output details-on">
<div class="toggle-details"></div>
<div class="synopsis-output-name">TTS log</div>
<div class="synopsis-output-desc">
<div class="shortdesc">Log file with information about text-to-speech process.
</div>
<div class="longdesc">Log file with information about text-to-speech process.

<p>Can be enabled with the “Include TTS log” option or the
<a href="/pipeline/Get-Help/User-Guide/Text-To-Speech#common-settings"><code>org.daisy.pipeline.tts.log</code></a>
property.</p>
</div>
</div>
</li>
<li class="synopsis-output details-on">
<div class="toggle-details"></div>
<div class="synopsis-output-name">Output EPUB 3</div>
<div class="synopsis-output-desc">
The output braille file.
</div>
<div class="synopsis-output-media-type">
<b>Media-type</b>:
<ul class="media-types">
<li>text</li>
</ul>
</div>
</li>
</ul>

  <h3 id="options">Options</h3>

  <ul class="synopsis-options">
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Style sheets</div>
<div class="synopsis-option-desc">
<div class="shortdesc">CSS style sheets to apply. A space separated list of URIs, absolute or relative to source.
</div>
<div class="longdesc">CSS style sheets to apply. A space separated list of URIs, absolute or relative to source.

<p>All CSS style sheets are applied at once, but the order in which they are specified has an influence
on the cascading order.</p>

<p>If the “Apply document-specific CSS” option is enabled, the document-specific style sheets will be
applied before the ones specified through this option (see below).</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: Any <var>&lt;string&gt;</var>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code></code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Translate to braille</div>
<div class="synopsis-option-desc">
Whether to produce a braille rendition.
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Apply document-specific CSS</div>
<div class="synopsis-option-desc">
<div class="shortdesc">If this option is enabled, any pre-existing CSS in the EPUB for medium "embossed" will be taken into account for the translation, or preserved in the result EPUB.
</div>
<div class="longdesc">If this option is enabled, any pre-existing CSS in the EPUB for medium "embossed" will be taken into account for the translation, or preserved in the result EPUB.

<p>The HTML files inside the source EPUB may already contain CSS that applies to embossed media. Style
sheets can be associated with an HTML file in several ways: linked (using an ‘xml-stylesheet’
processing instruction or a ‘link’ element), embedded (using a ‘style’ element) and/or inlined
(using ‘style’ attributes).</p>

<p>Document-specific CSS takes precedence over any CSS provided through the “Style sheets” option. For
instance, if the EPUB already contains the rule <code>p { padding-left: 2; }</code>, and using this script the
rule <code>p#docauthor { padding-left: 4; }</code> is provided, then the <code>padding-left</code> property will get the
value <code>2</code> because that’s what was defined in the EPUB, even though the provided CSS is more
specific.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">identifier'&gt; elements based on EPUB metadata</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to update &lt;meta name='dc:identifier'&gt; elements of content documents based on metadata in the package document.
</div>
<div class="longdesc">Whether to update <meta name="dc:identifier"> elements of content documents based on metadata in the package document.

<p>Use the primary identifier (provided by the
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-opf-dcidentifier" class="external-link" target="_blank"><code>dc:identifier</code></a>
element identified by the
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#attrdef-package-unique-identifier" class="external-link" target="_blank"><code>unique-identifier</code></a>
attribute) to create a <code>&lt;meta name='dc:identifier'&gt;</code> element in all content documents
(overwriting any existing elements with the same name).</p>

<p>If the “Metadata” option is used to inject new metadata into the EPUB, the resulting metadata is
used to generate the attributes.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Braille translator query</div>
<div class="synopsis-option-desc">

</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: A query

<p>The syntax is as follows (described in terms of <a href="https://www.w3.org/TR/CSS21/grammar.html" class="external-link" target="_blank">CSS grammar</a>):</p>

<pre><code>query
 : feature*
 ;
feature
 : '(' S* IDENT S* [ ':' S* value ]? ')' S*
 ;
value
 : string | integer | IDENT
 ;
</code></pre>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>(translator:liblouis)</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Ensure headings for all sections</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to generate a heading element for sections that don't have one.
</div>
<div class="longdesc">Whether to generate a heading element for sections that don't have one.

<p>For sectioning elements that don’t have a heading element, one can be created. The headings are
generated based on the section element’s <a href="https://www.w3.org/TR/wai-aria/#aria-label" class="external-link" target="_blank"><code>aria-label</code></a>
attribute. If the <code>aria-label</code> attribute is not present, no heading element is generated. When an
<code>aria-label</code> is used to generate a heading, it is replaced with a
<a href="https://www.w3.org/TR/wai-aria/#aria-labelledby" class="external-link" target="_blank"><code>aria-labelledby</code></a> attribute that points to the
new heading. The rank of the generated heading matches the depth of the corresponding TOC item in
the navigation document.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Set default rendition to braille.</div>
<div class="synopsis-option-desc">
Make the generated braille rendition the default rendition.
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Perform text-to-speech</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to use a speech synthesizer to produce media overlays.
</div>
<div class="longdesc">Whether to use a speech synthesizer to produce media overlays.

<p>This will remove any existing media overlays in the EPUB.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: One of the following:<dl class="choice">
<dt><code>true</code></dt>
<dd>Yes</dd>
<dt><code>false</code></dt>
<dd>No</dd>
<dt><code>default</code></dt>
<dd>If publication has no media overlays yet</dd>
</dl>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>default</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Perform sentence detection</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to add markup (span elements) for sentences.
</div>
<div class="longdesc">Whether to add markup (span elements) for sentences.

<p>This setting has no effect when text-to-speech is also enabled. In that case sentences are always
marked up.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Sentence class</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Class attribute to mark sentences with.
</div>
<div class="longdesc">Class attribute to mark sentences with.

<p>When sentence detection is enabled, this option may be used to add a class attribute to the <code>span</code>
elements that represent the sentences.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: Any <var>&lt;string&gt;</var>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code></code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Update &lt;title&gt; elements based on EPUB metadata</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to update &lt;title&gt; elements of content documents based on metadata in the package document.
</div>
<div class="longdesc">Whether to update <title> elements of content documents based on metadata in the package document.

<p>If there is one or more
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-opf-dctitle" class="external-link" target="_blank"><code>dc:title</code></a> element, use
the value of the first one to create a <code>&lt;title&gt;</code> element in all content documents (overwriting
any existing elements with the same name).</p>

<p>If the “Metadata” option is used to inject new metadata into the EPUB, the resulting metadata is
used to generate the attributes.</p>
&lt;/div&gt;
&lt;/div&gt;
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
&lt;/li&gt;
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Update 'lang' attributes based on metadata</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to update 'lang' and 'xml:lang' attributes of content documents based on metadata in the package document.
</div>
<div class="longdesc">Whether to update 'lang' and 'xml:lang' attributes of content documents based on metadata in the package document.

<p>If there is exactly one
<a href="https://www.w3.org/publishing/epub3/epub-packages.html#sec-opf-dclanguage" class="external-link" target="_blank"><code>dc:language</code></a> element,
use its value to create <code>xml:lang</code> and <code>lang</code> attributes on the root elements of all content
documents (overwriting any existing attributes)</p>

<p>If the “Metadata” option is used to inject new metadata into the EPUB, the resulting metadata is
used to generate the attributes.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Enable TTS log</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether or not to make the TTS log available.
</div>
<div class="longdesc">Whether or not to make the TTS log available.

<p>The TTS log contains a great deal of additional information that is not present in the main job log
and that is helpful for troubleshooting. Most of the log entries concern particular chunks of text
of the input document.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: <code>true</code> or <code>false</code>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
<li class="synopsis-option details-on">
<div class="toggle-details"></div>
<div class="synopsis-option-name">Ensure text content for page numbers</div>
<div class="synopsis-option-desc">
<div class="shortdesc">Whether to fix empty page number elements.
</div>
<div class="longdesc">Whether to fix empty page number elements.

<p>Page number elements (elements with a <code>doc-pagebreak</code> <code>role</code> or <code>pagebreak</code> <code>epub:type</code>) that have
no child text node can be given one. The text can be generated based on</p>

<ul>
  <li>the element’s <code>aria-label</code> attribute,</li>
  <li>the element’s <code>title</code> attribute, or</li>
  <li>the text used by the corresponding page link in the navigation document.</li>
</ul>

<p>These options are tried in the listed order. If none of the attributes exist, and the page is linked
from the navigation document, no text is generated.</p>
</div>
</div>
<div class="synopsis-option-data-type">
<b>Possible values</b>: One of the following:<dl class="choice">
<dt><code>true</code></dt>
<dd>Yes</dd>
<dt><code>false</code></dt>
<dd>No</dd>
<dt><code>hidden</code></dt>
<dd>Yes, but not visible</dd>
</dl>
</div>
<div class="synopsis-option-default">
<b>Default value</b>: <code>false</code>
</div>
</li>
&lt;/ul&gt;


<script type="text/javascript">
var allElements = [];
function showDetailsAndHideAllOther() {
  var windowTopBefore = window.pageYOffset;
  var topBefore = this.offsetTop;
  var i;
  for (i = 0; i < allElements.length; i++) {
    allElements[i].classList.remove('details-on');
	allElements[i].classList.add('details-off');
  }
  this.classList.remove('details-off');
  this.classList.add('details-on');
  window.scrollTo(0, windowTopBefore + this.offsetTop - topBefore);
}
var onload = function() {
  allElements = allElements.concat(Array.prototype.slice.call(document.getElementsByClassName('synopsis-input'), 0));
  allElements = allElements.concat(Array.prototype.slice.call(document.getElementsByClassName('synopsis-report'), 0));
  allElements = allElements.concat(Array.prototype.slice.call(document.getElementsByClassName('synopsis-output'), 0));
  allElements = allElements.concat(Array.prototype.slice.call(document.getElementsByClassName('synopsis-option'), 0));
  var i;
  for (i = 0; i < allElements.length; i++) {
    allElements[i].classList.remove('details-on');
    allElements[i].classList.add('details-off');
	allElements[i].addEventListener('click', showDetailsAndHideAllOther);
  }
}
if (window.addEventListener) {
  window.addEventListener('load', onload);
} else {
  window.attachEvent('onload', onload);
}
</script>
&lt;/div&gt;



<div class="cli-synopsis hidden">

<pre>Usage: dp2 [GLOBAL_OPTIONS] epub3-to-epub3 [OPTIONS]

Options:</pre>
<table>
<tr>
<td>--tts-config <span style="text-transform: uppercase">tts-config</span>
</td>
<td>Configuration file for the text-to-speech.
</td>
</tr>
<tr>
<td>--source <span style="text-transform: uppercase">source</span>
</td>
<td>The EPUB you want to convert.
</td>
</tr>
<tr>
<td>--metadata <span style="text-transform: uppercase">metadata</span>
</td>
<td>Metadata to be included in the EPUB.
</td>
</tr>
<tr>
<td>--stylesheet [<span style="text-transform: uppercase">stylesheet</span>]</td>
<td>Style sheets (default: <span class="synopsis-option-default"><code></code></span>)</td>
</tr>
<tr>
<td>--braille [<span style="text-transform: uppercase">braille</span>]</td>
<td>Translate to braille (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--apply-document-specific-stylesheets [<span style="text-transform: uppercase">apply-document-specific-stylesheets</span>]</td>
<td>Apply document-specific CSS (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--update-identifier-in-content-docs [<span style="text-transform: uppercase">update-identifier-in-content-docs</span>]</td>
<td>identifier'&gt; elements based on EPUB metadata (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--braille-translator [<span style="text-transform: uppercase">braille-translator</span>]</td>
<td>Braille translator query (default: <span class="synopsis-option-default"><code>(translator:liblouis)</code></span>)</td>
</tr>
<tr>
<td>--ensure-section-headings [<span style="text-transform: uppercase">ensure-section-headings</span>]</td>
<td>Ensure headings for all sections (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--set-default-rendition-to-braille [<span style="text-transform: uppercase">set-default-rendition-to-braille</span>]</td>
<td>Set default rendition to braille. (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--tts [<span style="text-transform: uppercase">tts</span>]</td>
<td>Perform text-to-speech (default: <span class="synopsis-option-default"><code>default</code></span>)</td>
</tr>
<tr>
<td>--sentence-detection [<span style="text-transform: uppercase">sentence-detection</span>]</td>
<td>Perform sentence detection (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--sentence-class [<span style="text-transform: uppercase">sentence-class</span>]</td>
<td>Sentence class (default: <span class="synopsis-option-default"><code></code></span>)</td>
</tr>
<tr>
<td>--update-title-in-content-docs [<span style="text-transform: uppercase">update-title-in-content-docs</span>]</td>
<td>Update &lt;title&gt; elements based on EPUB metadata (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--update-lang-attributes [<span style="text-transform: uppercase">update-lang-attributes</span>]</td>
<td>Update 'lang' attributes based on metadata (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--include-tts-log [<span style="text-transform: uppercase">include-tts-log</span>]</td>
<td>Enable TTS log (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>--ensure-pagenum-text [<span style="text-transform: uppercase">ensure-pagenum-text</span>]</td>
<td>Ensure text content for page numbers (default: <span class="synopsis-option-default"><code>false</code></span>)</td>
</tr>
<tr>
<td>-o,--output [OUTPUT]</td>
<td>Path where to store the results. This option is mandatory when the job is not executed in the background</td>
</tr>
<tr>
<td>-z,--zip</td>
<td>Write the output to a zip file rather than to a folder</td>
</tr>
<tr>
<td>-n,--nicename [NICENAME]</td>
<td>Set job's nice name</td>
</tr>
<tr>
<td>-r,--priority [PRIORITY]</td>
<td>Set job's priority (high|medium|low)</td>
</tr>
<tr>
<td>-q,--quiet</td>
<td>Do not print the job's messages</td>
</tr>
<tr>
<td>-p,--persistent</td>
<td>Delete the job after it is executed</td>
</tr>
<tr>
<td>-b,--background</td>
<td>Sends the job and exits</td>
</tr>
</table>
</div>

<script type="text/javascript">
var guiSynopsis = document.getElementsByClassName('gui-synopsis')[0];
var cliSynopsis = document.getElementsByClassName('cli-synopsis')[0];
function switchToCliView() {
  guiSynopsis.classList.add('hidden');
  cliSynopsis.classList.remove('hidden');
}
function switchToGuiView() {
  guiSynopsis.classList.remove('hidden');
  cliSynopsis.classList.add('hidden');
}
var loaded = false;
var onload = function() {
  if (loaded)
    return;
  var button = document.createElement('span');
  button.setAttribute('role', 'link');
  button.setAttribute('tabindex', '0');
  button.className = 'toggle-synopsis-button';
  button.addEventListener('click', switchToCliView);
  button.addEventListener('keyup', function(event) {
    if (event.keyCode == 13) {
      event.preventDefault();
      switchToCliView();
    }
  });
  guiSynopsis.insertBefore(button, guiSynopsis.firstChild);
  button = document.createElement('span');
  button.setAttribute('role', 'link');
  button.setAttribute('tabindex', '0');
  button.className = 'toggle-synopsis-button';
  button.addEventListener('click', switchToGuiView);
  button.addEventListener('keyup', function(event) {
    if (event.keyCode == 13) {
      event.preventDefault();
      switchToGuiView();
    }
  });
  cliSynopsis.insertBefore(button, cliSynopsis.firstChild);
  loaded = true;
}
if (window.addEventListener) {
  window.addEventListener('load', onload);
} else {
  window.attachEvent('onload', onload);
}
</script>

</title>
</div>
</div>
</li>
</ul>
</div>

    </div>
  </body>
</html>
