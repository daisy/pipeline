<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html xmlns:pf="http://www.daisy.org/ns/pipeline/functions" xmlns="http://www.w3.org/1999/xhtml">
<head prefix="dc: http://purl.org/dc/elements/1.1/                   dp2: http://www.daisy.org/ns/pipeline/">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title property="dc:title">fileset-add-entries {http://www.daisy.org/ns/pipeline/xproc}</title>
<link rev="dp2:doc" href="http://daisy.github.io/pipeline/modules/fileset-utils/src/main/resources/xml/xproc/fileset-add-entries.xpl">
<link rel="rdf:type" href="http://www.daisy.org/ns/pipeline/apidoc">
<style type="text/css" prefix="">
        
                 table                   { width: 100%; empty-cells: show; }
                 thead                   { background-color: 184882; color: white; font-weight: bold; }
                 td                      { vertical-align: top; padding: 2px; }
                 .name                   { /* font-family: sans-serif; */ }
                 .uri, .code             { font-family: monospace; }
                 .primary, .required     { font-weight: bold; }
                 .details                { display:block; text-align:right; font-size: x-small; font-style: italic; }
                 .nowrap                 { white-space: nowrap; }
                 .small                  { font-size: x-small; }
        
      </style>
</head>
<body>
<h2>
            Step <span class="name">fileset-add-entries</span> <span class="uri">{http://www.daisy.org/ns/pipeline/xproc}</span>
</h2>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">Add new entries to a fileset.</p>
<div>Defined in:
          <span class="uri"><a href="/pipeline/api/org/daisy/pipeline/modules/fileset-utils/library.xpl.html">http://www.daisy.org/pipeline/modules/fileset-utils/library.xpl</a></span>
</div>
<h3>Input Ports</h3>
<table border="1">
<thead><tr>
<td>Port</td>
<td>Description</td>
</tr></thead>
<tbody>
<tr>
<td width="150px" class="nowrap name">
<span class="primary">source.fileset</span><span class="details"> primary</span>
</td>
<td></td>
</tr>
<tr>
<td width="150px" class="nowrap name">
<span class="">source.in-memory</span><span class="details"> sequence</span>
</td>
<td><p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">The input fileset</p></td>
</tr>
<tr>
<td width="150px" class="nowrap name">
<span class="">entries</span><span class="details"> sequence</span>
</td>
<td>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">The documents to add to the fileset</p>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">Must be empty if the href option is specified.</p>
</td>
</tr>
<tr>
<td width="150px" class="nowrap name">
<span class="">file-attributes</span><span class="details"> parameter</span>
</td>
<td>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">Additional attributes to add to the new d:file entries, or to existing entries if the
      fileset already contained files with the same URI as one of the provided entries and if
      <code>replace-attributes</code> is set to <code>true</code>.</p>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">Attributes named <code>href</code>, <code>original-href</code> or <code>media-type</code>
      are not allowed.</p>
</td>
</tr>
</tbody>
</table>
<h3>Output Ports</h3>
<table border="1">
<thead><tr>
<td>Port</td>
<td>Description</td>
</tr></thead>
<tbody>
<tr>
<td width="150px" class="nowrap name">
<span class="primary">result.fileset</span><span class="details"> primary</span>
</td>
<td></td>
</tr>
<tr>
<td width="150px" class="nowrap name">
<span class="">result.in-memory</span><span class="details"> sequence</span>
</td>
<td>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">The fileset with the new entries added</p>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">The result.in-memory port contains all the documents from the source.in-memory port, and if
      the new entries were provided via de "entries" port, those documents are appended (or prepended,
      depending on the "first" option).</p>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">If the input fileset already contained a file with the same URI as one of the new entries,
      the new entry is not added, unless when the 'replace' option is set, in which case the old
      entry is removed and the new one is added to the beginning or the end. (Note however that the
      document sequence is not changed, only the manifest.) If the 'replace-attributes' option is
      set, attributes of the existing entry may be added or replaced.</p>
</td>
</tr>
</tbody>
</table>
<h3>Options</h3>
<table border="1">
<thead><tr>
<td class="nowrap">Local Name</td>
<td class="nowrap">Namespace URI</td>
<td class="nowrap">Default</td>
<td>Description</td>
</tr></thead>
<tbody>
<tr>
<td width="150px;" class="nowrap name">
<span class="">href</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">()</td>
<td>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">The URIs of the new entries</p>
<p xmlns:xd="http://github.com/vojtechtoman/xprocdoc">If the entries are provided via the entry port, the href option must not be specified. In
      this case the URIs of the entries are the base URIs of the documents.</p>
</td>
</tr>
<tr>
<td width="150px;" class="nowrap name">
<span class="">media-type</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">''</td>
<td></td>
</tr>
<tr>
<td width="150px;" class="nowrap name">
<span class="">original-href</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">''</td>
<td></td>
</tr>
<tr>
<td width="150px;" class="nowrap name">
<span class="">first</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">false()</td>
<td></td>
</tr>
<tr>
<td width="150px;" class="nowrap name">
<span class="">replace</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">false()</td>
<td></td>
</tr>
<tr>
<td width="150px;" class="nowrap name">
<span class="">replace-attributes</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">false()</td>
<td></td>
</tr>
<tr>
<td width="150px;" class="nowrap name">
<span class="">assert-single-entry</span><span class="details"></span>
</td>
<td width="10px" class="nowrap uri"></td>
<td width="10px" class="nowrap code">false()</td>
<td></td>
</tr>
</tbody>
</table>
</body>
</html>
